!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("Rx"),require("null"),require("Rx.Scheduler")):"function"==typeof define&&define.amd?define(["Rx","null","Rx.Scheduler"],e):"object"==typeof exports?exports.RxUI=e(require("Rx"),require("null"),require("Rx.Scheduler")):t.RxUI=e(t.Rx,t["null"],t["Rx.Scheduler"])}(this,function(t,e,r){return function(t){function e(n){if(r[n])return r[n].exports;var o=r[n]={exports:{},id:n,loaded:!1};return t[n].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var r={};return e.m=t,e.c=r,e.p="",e(0)}([function(t,e,r){"use strict";function n(t){for(var r in t)e.hasOwnProperty(r)||(e[r]=t[r])}n(r(3)),n(r(4)),n(r(27)),n(r(28)),n(r(8)),n(r(17)),n(r(26)),n(r(9)),n(r(6))},,function(t,e){t.exports=Rx},function(t,e,r){"use strict";var n=r(2),o=r(4),i=r(6);r(7);var u=function(){function t(t){if(this._propertyChanged=new n.Subject,this.__data={},t&&"object"==typeof t)for(var e in t)t.hasOwnProperty(e)&&this.set(e,t[e])}return Object.defineProperty(t.prototype,"propertyChanged",{get:function(){return this._propertyChanged},enumerable:!0,configurable:!0}),t.prototype.createPropertyChangedEventArgs=function(t,e){return new o.PropertyChangedEventArgs(this,t,e)},t.prototype.emitPropertyChanged=function(t,e){var r=null!=e?e:this.get(t);this._propertyChanged.next(this.createPropertyChangedEventArgs(t,r))},t.prototype.emitIfPropertyChanged=function(e,r){var n=t.get(this,e);n!==r&&this.emitPropertyChanged(e,n)},t.prototype.trackPropertyChanges=function(e,r){var n=t.get(this,e),o=r();return this.emitIfPropertyChanged(e,n),o},t.getSingleProperty=function(e,r){return"undefined"==typeof e[r]&&e instanceof t?t.getReactiveProperty(e,r):e[r]},t.getReactiveProperty=function(t,e){return t.__data[e]||null},t.getDeepProperty=function(e,r){var n=r.children[0],o=r.property.substring(n.length+1),i=t.get(e,n);return"undefined"!=typeof i?null!==i?t.get(i,o):null:void 0},t.get=function(e,r){var n=t.evaluateLambdaOrString(e,r);return 1===n.children.length?t.getSingleProperty(e,n.property):t.getDeepProperty(e,n)},t.prototype.get=function(e){var r=t.evaluateLambdaOrString(this,e);return 1===r.children.length?t.getReactiveProperty(this,r.property):t.getDeepProperty(this,r)},t.setSingleProperty=function(e,r,n){"undefined"==typeof e[r]&&e instanceof t?t.setReactiveProperty(e,r,n):e[r]=n},t.setReactiveProperty=function(t,e,r){var n=t,o=n.__data[e];r!==o&&(n.__data[e]=r,n.emitPropertyChanged(e,r))},t.setDeepProperty=function(e,r,n){var o=r.children[0],i=r.property.substring(o.length+1),u=t.get(e,o);if(null==u)throw new Error("Null Reference Exception. Cannot set a child property on a null or undefined property of this object.");t.set(u,i,n)},t.traverse=function(e,r,n,o){var i=t.evaluateLambdaOrString(e,r);1===i.children.length?n(i):o(i)},t.set=function(e,r,n){t.traverse(e,r,function(r){t.setSingleProperty(e,r.property,n)},function(r){t.setDeepProperty(e,r,n)})},t.prototype.set=function(e,r){var n=this;t.traverse(this,e,function(e){t.setReactiveProperty(n,e.property,r)},function(e){t.setDeepProperty(n,e,r)})},t.buildGhostObject=function(t){function e(){return new Proxy({},{get:function(r,n,o){return t.push(n),e()}})}return"undefined"!=typeof Proxy?e():null},t.evaluateLambdaExpression=function(e,r){var n=[],o=t.buildGhostObject(n);return o?r(o):t.evaluateLambdaErrors(n,r),n.join(".")},t.evaluateLambdaErrors=function(e,r,n){void 0===n&&(n=null);try{r(n)}catch(o){if(o instanceof TypeError){var i=o,u=null,a=/property\s+'(\w+)'/g.exec(i.message);if(a&&(u=a[1]),u||(a=/evaluating \'([\w]+\.?)+\'/g.exec(i.message),a&&(u=a[a.length-1])),u){e.push(u),n=n||{};var c=n;return e.forEach(function(t,r){c[t]=r<e.length-1?{}:null,c=c[t]}),void t.evaluateLambdaErrors(e,r,n)}}throw o}},t.evaluateLambdaOrString=function(e,r){var n;n="function"==typeof r?t.evaluateLambdaExpression(e,r):r;var o=n.split(".");return{children:o,property:n}},t.whenSingleProp=function(e,r,o){if(void 0===o&&(o=!1),e instanceof t){var i=e,u=i.propertyChanged.filter(function(t){return t.propertyName==r});return o?n.Observable.of(i.createPropertyChangedEventArgs(r,i.get(r))).concat(u):u}if(e.__viewBindingHelper){var a=e.__viewBindingHelper;return n.Observable.create(function(t){return a.observeProp(e,r,o,function(e){t.next(e)})})}throw new Error("Unable to bind to objects that do not inherit from ReactiveObject or provide __viewBindingHelper")},t.whenSingle=function(e,r,o){void 0===o&&(o=!1);var i=t.evaluateLambdaOrString(e,r),u=i.children,a=i.property;if(1===u.length)return t.whenSingleProp(e,a,o);var c=u[0],s=a.substring(c.length+1),p=0;return t.whenSingleProp(e,c,!0).map(function(e){var r=e.newPropertyValue;return p++,r?t.whenSingle(r,s,o||p>1):o?n.Observable.of(e):n.Observable.empty()})["switch"]()},t.prototype.whenSingle=function(e,r){return void 0===r&&(r=!1),t.whenSingle(this,e,r)},t.prototype.whenAny=function(){function t(e){e.forEach(function(e,r){var n=typeof e;"string"===n||"function"===n?i.push(e):Array.isArray(e)&&t(e)})}for(var e=this,r=[],o=0;o<arguments.length;o++)r[o-0]=arguments[o];var i=[],u=this.getMapFunction(r);t(u?r.slice(0,r.length-1):r);var a=i.map(function(t){return e.whenSingle(t,!0)}).filter(function(t){return null!=t});return u?n.Observable.combineLatest.apply(n.Observable,a.concat([u])):n.Observable.combineLatest.apply(n.Observable,a.concat([function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return 1==t.length?t[0]:t}]))},t.prototype.getMapFunction=function(t){var e=null,r=t[t.length-1];return t.length>1&&"function"==typeof r&&(e=r),e},t.prototype.whenAnyValue=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var r=this.getMapFunction(t),n=r?t.slice(0,t.length-1):t,o=this.whenAny.bind(this);return o.apply(void 0,n.concat([function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var n=t.map(function(t){return t.newPropertyValue});return r?r.apply(void 0,n):1==n.length?n[0]:n}]))},t.prototype.mergeChanges=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return n.Observable.merge.apply(n.Observable,t).distinctUntilChanged(function(t,e){return t===e},function(t){return t.value})},t.prototype.bind=function(e,r,n,o){var i=this,u=t.whenSingle(e,n).map(function(t){return{fromVm:!1,value:t.newPropertyValue}}),a=this.whenAny(r).map(function(t){return{fromVm:!0,value:t.newPropertyValue}}),c=this.mergeChanges(u,a).startWith({fromVm:!0,value:this.get(r)});return c.subscribe(function(o){o.fromVm?t.set(e,n,o.value):i.set(r,o.value)})},t.prototype.oneWayBind=function(e,r,n,o){var i=this.whenAny(r).map(function(t){return{fromVm:!0,value:t.newPropertyValue}}),u=this.mergeChanges(i).startWith({fromVm:!0,value:this.get(r)});return o&&(u=u.observeOn(o)),u.subscribe(function(r){r.fromVm&&t.set(e,n,r.value)})},t.bindObservable=function(e,r,n,o){var i=e.distinctUntilChanged();return o&&(i=i.observeOn(o)),i.subscribe(function(e){t.set(r,n,e)})},t.prototype.when=function(t){return"string"==typeof t?this.whenSingle(t,!0).map(function(t){return t.newPropertyValue})["switch"]():t},t.prototype.invokeCommandWhen=function(t,e){return i.invokeCommand(this.when(t),this,e)},t.prototype.toProperty=function(e,r,n){return t.bindObservable(e,this,r,n)},t.prototype.toJSON=function(){return t.clone(this.__data)},t.prototype.toString=function(){return JSON.stringify(this)},t.keys=function(e){return e instanceof t?Object.keys(e.__data):Object.keys(e)},t.clone=function(t){var e={};for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);return e},t}();e.ReactiveObject=u},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(5),i=function(t){function e(e,r,n){t.call(this,e),this._propertyName=r,this._newPropertyValue=n}return n(e,t),Object.defineProperty(e.prototype,"propertyName",{get:function(){return this._propertyName},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"newPropertyValue",{get:function(){return this._newPropertyValue},enumerable:!0,configurable:!0}),e}(o.EventArgs);e.PropertyChangedEventArgs=i},function(t,e){"use strict";var r=function(){function t(t){this._sender=t}return Object.defineProperty(t.prototype,"sender",{get:function(){return this._sender},enumerable:!0,configurable:!0}),t}();e.EventArgs=r},function(t,e,r){"use strict";function n(t,e,r){var n,i;"string"==typeof r?(n=e.whenSingle(r,!0).map(function(t){return t.newPropertyValue}),i=n.map(function(t){return t.canExecute})["switch"]()):(n=o.Observable.of(r),i=r.canExecute);var u=t.withLatestFrom(n,i,function(t,e,r){return{canExecute:r,command:e,observedValue:t}}).filter(function(t){return t.canExecute&&null!=t.command}).distinctUntilChanged().flatMap(function(t){return t.command.execute(t.observedValue)});return u}var o=r(2);e.invokeCommand=n},function(t,e){t.exports=null},function(t,e,r){"use strict";var n=r(2),o=r(9),i=function(){function t(t,e,r){var o=this;if(this.task=t,this.canRun=e,this.scheduler=r,!t)throw new Error("The task parameter must be supplied");if(!e)throw new Error("The canRun parameter must be supplied");if(!r)throw new Error("The scheduler parameter must be supplied");this._executionInfo=new n.Subject,this._synchronizedExcecutionInfo=this._executionInfo,this._exceptions=new n.Subject,this._isExecuting=this._synchronizedExcecutionInfo.observeOn(r).map(function(t){return t.demarcation===u.Begin}).startWith(!1).distinctUntilChanged().publishReplay(1).refCount(),this._canExecute=this.canRun["catch"](function(t){return o._exceptions.next(t),n.Observable.of(!1)}).startWith(!1).combineLatest(this._isExecuting,function(t,e){return t&&!e}).distinctUntilChanged().publishReplay(1).refCount(),this._results=this._synchronizedExcecutionInfo.observeOn(r).filter(function(t){return t.demarcation===u.EndWithResult}).map(function(t){return t.result}),this._canExecuteSubscription=this._canExecute.subscribe()}return Object.defineProperty(t.prototype,"isExecuting",{get:function(){return this._isExecuting},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"canExecute",{get:function(){return this._canExecute},enumerable:!0,configurable:!0}),t.defaultScheduler=function(t){return t||o.RxApp.mainThreadScheduler},t.defaultCanRun=function(t){return t||n.Observable.of(!0)},t.create=function(e,r,o){return new t(function(t){var r=e(t);return"undefined"!=typeof r?n.Observable.of(r):n.Observable.of(null)},t.defaultCanRun(r),t.defaultScheduler(o))},t.createFromTask=function(e,r,o){return new t(function(t){return n.Observable.fromPromise(e(t))},t.defaultCanRun(r),t.defaultScheduler(o))},t.createFromObservable=function(e,r,n){return new t(e,t.defaultCanRun(r),t.defaultScheduler(n))},t.prototype.execute=function(t){var e=this;void 0===t&&(t=null);try{return n.Observable.defer(function(){return e._synchronizedExcecutionInfo.next(a.createBegin()),n.Observable.empty()}).concat(this.task(t))["do"](function(t){return e._synchronizedExcecutionInfo.next(a.createResult(t))},null,function(){return e._synchronizedExcecutionInfo.next(a.createEnded())})["catch"](function(t){return e._synchronizedExcecutionInfo.next(a.createFail()),e._exceptions.next(t),n.Observable["throw"](t)}).publishLast().refCount()}catch(r){return this._exceptions.next(r),n.Observable["throw"](r)}},t.prototype.invoke=function(t){var e=this;return void 0===t&&(t=null),this.canExecuteNow().filter(function(t){return t}).flatMap(function(r){return e.execute(t)})},t.prototype.canExecuteNow=function(){return this.canExecute.first()},Object.defineProperty(t.prototype,"results",{get:function(){return this._results},enumerable:!0,configurable:!0}),t}();e.ReactiveCommand=i;var u,a=function(){function t(t,e){this.demarcation=t,this.result=e}return t.createBegin=function(){return new t(u.Begin,null)},t.createResult=function(e){return new t(u.EndWithResult,e)},t.createFail=function(){return new t(u.EndWithException,null)},t.createEnded=function(){return new t(u.Ended,null)},t}();!function(t){t[t.Begin=0]="Begin",t[t.EndWithResult=1]="EndWithResult",t[t.EndWithException=2]="EndWithException",t[t.Ended=3]="Ended"}(u||(u={}))},function(t,e,r){"use strict";var n=r(10),o=r(10),i={asap:n.asap,queue:o.queue},u=function(){function t(){}return t}();e.RxApp=u,u.mainThreadScheduler=i.queue,u.immediateScheduler=i.asap},function(t,e){t.exports=Rx.Scheduler},,,,,,,function(t,e,r){"use strict";var n=r(18),o=function(){function t(){this._handlerChain=[]}return t.prototype.registerHandler=function(t){var e=this;if(!t)throw Error("Null or undefined handlers cannot be registered. Pass in a valid handler function to properly register it.");return this._handlerChain.unshift(t),new n.Subscription(function(){var r=e._handlerChain.indexOf(t);r>=0&&e._handlerChain.splice(r,1)})},t.prototype.handle=function(t){var e=this;return new Promise(function(r,n){var o=0;do{var i=e._handlerChain[o];try{var u=i(t);if("undefined"!=typeof u)return void(u instanceof Promise?u.then(function(t){r(t)},function(t){n(t)}):r(u))}catch(a){n(a)}}while(++o<e._handlerChain.length);n(new Error("No handler handled the interaction. Make sure that registerHandler is being called and that its returned subscription is not being disposed."))})},t}();e.ReactiveInteraction=o},function(t,e,r){"use strict";var n=r(19),o=r(20),i=r(21),u=r(22),a=r(23),c=r(24),s=function(){function t(t){this.isUnsubscribed=!1,t&&(this._unsubscribe=t)}return t.prototype.unsubscribe=function(){var t,e=!1;if(!this.isUnsubscribed){this.isUnsubscribed=!0;var r=this,s=r._unsubscribe,p=r._subscriptions;if(this._subscriptions=null,i.isFunction(s)){var f=u.tryCatch(s).call(this);f===a.errorObject&&(e=!0,(t=t||[]).push(a.errorObject.e))}if(n.isArray(p))for(var h=-1,l=p.length;++h<l;){var d=p[h];if(o.isObject(d)){var f=u.tryCatch(d.unsubscribe).call(d);if(f===a.errorObject){e=!0,t=t||[];var y=a.errorObject.e;y instanceof c.UnsubscriptionError?t=t.concat(y.errors):t.push(y)}}}if(e)throw new c.UnsubscriptionError(t)}},t.prototype.add=function(e){if(e&&e!==this&&e!==t.EMPTY){var r=e;switch(typeof e){case"function":r=new t(e);case"object":if(r.isUnsubscribed||"function"!=typeof r.unsubscribe)break;this.isUnsubscribed?r.unsubscribe():(this._subscriptions||(this._subscriptions=[])).push(r);break;default:throw new Error("Unrecognized teardown "+e+" added to Subscription.")}return r}},t.prototype.remove=function(e){if(null!=e&&e!==this&&e!==t.EMPTY){var r=this._subscriptions;if(r){var n=r.indexOf(e);-1!==n&&r.splice(n,1)}}},t.EMPTY=function(t){return t.isUnsubscribed=!0,t}(new t),t}();e.Subscription=s},function(t,e){"use strict";e.isArray=Array.isArray||function(t){return t&&"number"==typeof t.length}},function(t,e){"use strict";function r(t){return null!=t&&"object"==typeof t}e.isObject=r},function(t,e){"use strict";function r(t){return"function"==typeof t}e.isFunction=r},function(t,e,r){"use strict";function n(){try{return i.apply(this,arguments)}catch(t){return u.errorObject.e=t,u.errorObject}}function o(t){return i=t,n}var i,u=r(23);e.tryCatch=o},function(t,e){"use strict";e.errorObject={e:{}}},function(t,e){"use strict";var r=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},n=function(t){function e(e){t.call(this),this.errors=e,this.name="UnsubscriptionError",this.message=e?e.length+" errors occurred during unsubscription:\n"+e.map(function(t,e){return e+1+") "+t.toString()}).join("\n"):""}return r(e,t),e}(Error);e.UnsubscriptionError=n},,function(t,e,r){"use strict";function n(t,e){var r=t;return e&&(r=t.bind(e)),r}var o=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=r(3),u=r(2),a=r(27);Array.prototype.find||(Array.prototype.find=function(t){if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof t)throw new TypeError("predicate must be a function");for(var e,r=Object(this),n=r.length>>>0,o=arguments[1],i=0;n>i;i++)if(e=r[i],t.call(o,e,i,r))return e}),Array.prototype.findIndex||(Array.prototype.findIndex=function(t){if(null===this)throw new TypeError("Array.prototype.findIndex called on null or undefined");if("function"!=typeof t)throw new TypeError("predicate must be a function");for(var e,r=Object(this),n=r.length>>>0,o=arguments[1],i=0;n>i;i++)if(e=r[i],t.call(o,e,i,r))return i;return-1});var c=function(t){function e(e){t.call(this),this._changed=new u.Subject;var r=e?e.slice():[];Array.isArray(r)?this._array=r:this._array=r._array}return o(e,t),e.prototype.emitArrayChanges=function(t,e,r,n){if(e.length>0||n.length>0){var o=new a.CollectionChangedEventArgs(this);o.addedItems=e.slice(),o.addedItemsIndex=t,o.removedItems=n.slice(),o.removedItemsIndex=r,this._changed.next(o)}},Object.defineProperty(e.prototype,"changed",{get:function(){return this._changed.asObservable()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"itemsAdded",{get:function(){return this.changed.filter(function(t){return t.addedItems.length>0})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"itemsRemoved",{get:function(){return this.changed.filter(function(t){return t.removedItems.length>0})},enumerable:!0,configurable:!0}),e.prototype.getItem=function(t){return this._array[t]},e.prototype.setItem=function(t,e){this._array[t]=e},e.prototype.unshift=function(){for(var t=this,e=[],r=0;r<arguments.length;r++)e[r-0]=arguments[r];this.trackPropertyChanges("length",function(){(r=t._array).unshift.apply(r,e),t.emitArrayChanges(0,e,0,[]);var r})},e.prototype.shift=function(){var t=this;return this.trackPropertyChanges("length",function(){var e=t._array.shift();return"undefined"!=typeof e&&t.emitArrayChanges(0,[],0,[e]),e})},e.prototype.push=function(){for(var t=this,e=[],r=0;r<arguments.length;r++)e[r-0]=arguments[r];this.trackPropertyChanges("length",function(){(r=t._array).push.apply(r,e),t.emitArrayChanges(t._array.length-e.length,e,0,[]);var r})},e.prototype.pop=function(){var t=this;return this.trackPropertyChanges("length",function(){var e=t._array.pop();return"undefined"!=typeof e&&t.emitArrayChanges(0,[],t._array.length,[e]),e})},Object.defineProperty(e.prototype,"length",{get:function(){return this._array.length},enumerable:!0,configurable:!0}),e.prototype.slice=function(t,r){return new e(this._array.slice(t,r))},e.prototype.splice=function(t,r){for(var n=this,o=[],i=2;i<arguments.length;i++)o[i-2]=arguments[i];return this.trackPropertyChanges("length",function(){var i=(u=n._array).splice.apply(u,[t,r].concat(o));return n.emitArrayChanges(t,o,t,i),e.from(i);var u})},e.prototype.sort=function(t){var r=new e;return r._array=this._array.sort(t),r},e.prototype.map=function(t,r){var o=this,i=new e,u=n(t,r);return i._array=this._array.map(function(t,e,r){return u(t,e,o)}),i},e.prototype.filter=function(t,r){var o=this,i=new e,u=n(t,r);return i._array=this._array.filter(function(t,e,r){return u(t,e,o)}),i},e.prototype.indexOf=function(t,e){return this._array.indexOf(t,e)},e.prototype.lastIndexOf=function(t,e){return void 0===e&&(e=this.length-1),this._array.lastIndexOf(t,e)},e.prototype.forEach=function(t,e){var r=this,o=n(t,e);this._array.forEach(function(t,e,n){return o(t,e,r)})},e.prototype.reduce=function(t,e){var r=this;return"undefined"!=typeof e?this._array.reduce(function(e,n,o){return t(e,n,o,r)},e):this._array.reduce(function(e,n,o){return t(e,n,o,r)})},e.prototype.every=function(t,e){var r=this,o=n(t,e);return this._array.every(function(t,e,n){return o(t,e,r)})},e.prototype.some=function(t,e){var r=this,o=n(t,e);return this._array.some(function(t,e,n){return o(t,e,r)})},e.prototype.find=function(t,e){var r=this,o=n(t,e);return this._array.find(function(t,e,n){return o(t,e,r)})},e.prototype.findIndex=function(t,e){var r=this,o=n(t,e);return this._array.findIndex(function(t,e,n){return o(t,e,r)})},e.prototype.whenAnyItem=function(t){var e=this.derived.filter(function(t){return null!=t}).map(function(e){var r=e,n=r.whenAny(t);return n.publish().refCount()}).build();return e.toObservable().map(function(t){return u.Observable.merge.apply(u.Observable,t)})["switch"]().distinct()},e.prototype.whenAnyItemValue=function(t){return this.whenAnyItem(t).map(function(t){return t.newPropertyValue})},e.prototype.whenAnyItemObservable=function(t){return this.whenAnyItemValue(t).filter(function(t){return null!=t}).mergeAll()},Object.defineProperty(e.prototype,"derived",{get:function(){return new l(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"computed",{get:function(){return new d(this)},enumerable:!0,configurable:!0}),e.from=function(t){return new e(t)},e.of=function(){for(var t=[],r=0;r<arguments.length;r++)t[r-0]=arguments[r];return e.from(t)},e.prototype.toArray=function(){return this._array.slice()},e.prototype.toObservable=function(){var t=this;return this.changed.map(function(e){return t.toArray()}).startWith(this.toArray()).publishReplay(1).refCount()},e.prototype.toJSON=function(){return this.map(function(t){return"undefined"==typeof t||null===t?null:"function"==typeof t.toJSON?t.toJSON():t}).toArray()},e.prototype.toString=function(){var t=this._array.map(function(t){var e=typeof t;return"undefined"===e?"undefined":null===t?"null":"string"===e?"'"+t+"'":t.toString()}).join(", ");return"["+t+"]"},e}(i.ReactiveObject);e.ReactiveArray=c;var s=function(t){function e(e,r,n){var o=this;t.call(this),this.parent=e,this.eventSteps=r,this.arraySteps=n,this._trackedItems=[];var i=new a.CollectionChangedEventArgs(this);i.addedItems=e.toArray(),i.addedItemsIndex=0,i.movedItems=[],i.removedItems=[],i.removedItemsIndex=0,this._apply(i),e.changed.subscribe(function(t){o._apply(t)})}return o(e,t),e.prototype.splice=function(t,r){for(var n=[],o=2;o<arguments.length;o++)n[o-2]=arguments[o];return e._throwNotSupported()},e.prototype.push=function(){for(var t=[],r=0;r<arguments.length;r++)t[r-0]=arguments[r];e._throwNotSupported()},e.prototype.pop=function(){return e._throwNotSupported()},e.prototype.shift=function(){return e._throwNotSupported()},e.prototype.unshift=function(){for(var t=[],r=0;r<arguments.length;r++)t[r-0]=arguments[r];return e._throwNotSupported()},e.prototype.setItem=function(t,r){e._throwNotSupported()},e._throwNotSupported=function(){throw new Error("Derived arrays do not support modification. If you want support for two-way derived arrays, file an issue at https://github.com/KallynGowdy/RxUI/issues.")},e.prototype._apply=function(r){for(var n=[],o=0;o<r.addedItems.length;o++){for(var i=r.addedItems[o],u={keep:!0,value:i},a=0;a<this.eventSteps.length&&(u=this.eventSteps[a].transform(u.value,o,r.addedItems),u.keep!==!1);a++);n.push(u)}var c=this._trackedItems;c.splice.apply(c,[r.addedItemsIndex,0].concat(n)),c.splice(r.removedItemsIndex,r.removedItems.length);var s=c.filter(function(t){return t.keep}).map(function(t){return t.value}),p=e._transformArray(s,this.arraySteps);t.prototype.splice.apply(this,[0,this.length].concat(p))},e._transformArray=function(t,e){for(var r=t,n=0;n<e.length;n++)r=e[n].transform(r);return r},e}(c),p=function(){function t(t){this.predicate=t}return t.prototype.transform=function(t,e,r){return{value:t,keep:this.predicate(t,e,r)}},t}(),f=function(){function t(t){this.map=t}return t.prototype.transform=function(t,e,r){return{value:this.map(t,e,r),keep:!0}},t}(),h=function(){function t(t){this.compareFunction=t}return t.prototype.transform=function(t){return t.sort(this.compareFunction)},t}(),l=function(){function t(t){this.parent=t,this.eventSteps=[],this.arraySteps=[]}return t.prototype.addEvent=function(t){return this.eventSteps.push(t),this},t.prototype.addArray=function(t){return this.arraySteps.push(t),this},t.prototype.filter=function(t){return this.addEvent(new p(t))},t.prototype.map=function(t){return this.addEvent(new f(t))},t.prototype.sort=function(t){return this.addArray(new h(t))},t.prototype.build=function(){return new s(this.parent,this.eventSteps,this.arraySteps)},t}();e.DerivedReactiveArrayBuilder=l;var d=function(){function t(t){this.parent=t}return t.prototype.reduce=function(t,e){var r=this;return this.parent.toObservable().map(function(n){return n.reduce(function(e,n,o,i){return t(e,n,o,r.parent)},e)})},t.prototype.every=function(t,e){var r=this,o=n(t,e);return this.parent.toObservable().map(function(t){return t.every(function(t,e,n){return o(t,e,r.parent)})})},t.prototype.some=function(t,e){var r=this,o=n(t,e);return this.parent.toObservable().map(function(t){return t.some(function(t,e,n){return o(t,e,r.parent)})})},t.prototype.find=function(t,e){var r=this,o=n(t,e);return this.parent.toObservable().map(function(t){return t.find(function(t,e,n){return o(t,e,r.parent)})})},t.prototype.findIndex=function(t,e){var r=this,o=n(t,e);return this.parent.toObservable().map(function(t){return t.findIndex(function(t,e,n){return o(t,e,r.parent)})})},t}();e.ComputedReactiveArrayBuilder=d},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(5),i=function(t){function e(e){t.call(this,e)}return n(e,t),e}(o.EventArgs);e.CollectionChangedEventArgs=i},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(5),i=function(t){function e(e,r,n){t.call(this,e),this.beforeIndex=r,this.afterIndex=n}return n(e,t),Object.defineProperty(e.prototype,"item",{get:function(){return this.sender},enumerable:!0,configurable:!0}),e}(o.EventArgs);e.MovedItemEventArgs=i}])});