!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("Rx"),require("Rx.Scheduler")):"function"==typeof define&&define.amd?define(["Rx","Rx.Scheduler"],t):"object"==typeof exports?exports.RxUI=t(require("Rx"),require("Rx.Scheduler")):e.RxUI=t(e.Rx,e["Rx.Scheduler"])}(this,function(e,t){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}r(n(3)),r(n(4)),r(n(19)),r(n(20)),r(n(7)),r(n(16)),r(n(18)),r(n(8)),r(n(6))},,function(e,t){e.exports=Rx},function(e,t,n){"use strict";var r=n(2),o=n(4),i=n(6),u=function(){function e(e){if(this._propertyChanged=new r.Subject,this.__data={},e&&"object"==typeof e)for(var t in e)e.hasOwnProperty(t)&&this.set(t,e[t])}return Object.defineProperty(e.prototype,"propertyChanged",{get:function(){return this._propertyChanged},enumerable:!0,configurable:!0}),e.prototype.createPropertyChangedEventArgs=function(e,t){return new o.PropertyChangedEventArgs(this,e,t)},e.prototype.emitPropertyChanged=function(e,t){var n=null!=t?t:this.get(e);this._propertyChanged.next(this.createPropertyChangedEventArgs(e,n))},e.prototype.emitIfPropertyChanged=function(t,n){var r=e.get(this,t);r!==n&&this.emitPropertyChanged(t,r)},e.prototype.trackPropertyChanges=function(t,n){var r=e.get(this,t),o=n();return this.emitIfPropertyChanged(t,r),o},e.getSingleProperty=function(t,n){return"undefined"==typeof t[n]&&t instanceof e?e.getReactiveProperty(t,n):t[n]},e.getReactiveProperty=function(e,t){var n=e.__data[t];return"undefined"==typeof n?null:n},e.getDeepProperty=function(t,n){var r=n.children[0],o=n.property.substring(r.length+1),i=e.get(t,r);return"undefined"!=typeof i?null!==i?e.get(i,o):null:void 0},e.get=function(t,n){var r=e.evaluateLambdaOrString(t,n);return 1===r.children.length?e.getSingleProperty(t,r.property):e.getDeepProperty(t,r)},e.prototype.get=function(t){var n=e.evaluateLambdaOrString(this,t);return 1===n.children.length?e.getReactiveProperty(this,n.property):e.getDeepProperty(this,n)},e.setSingleProperty=function(t,n,r){"undefined"==typeof t[n]&&t instanceof e?e.setReactiveProperty(t,n,r):t[n]=r},e.setReactiveProperty=function(e,t,n){var r=e,o=r.__data[t];n!==o&&(r.__data[t]=n,r.emitPropertyChanged(t,n))},e.setDeepProperty=function(t,n,r){var o=n.children[0],i=n.property.substring(o.length+1),u=e.get(t,o);if(null===u)throw new Error("Null Reference Exception. Cannot set a child property on a null or undefined property of this object.");e.set(u,i,r)},e.traverse=function(t,n,r,o){var i=e.evaluateLambdaOrString(t,n);1===i.children.length?r(i):o(i)},e.set=function(t,n,r){e.traverse(t,n,function(n){e.setSingleProperty(t,n.property,r)},function(n){e.setDeepProperty(t,n,r)})},e.prototype.set=function(t,n){var r=this;e.traverse(this,t,function(t){e.setReactiveProperty(r,t.property,n)},function(t){e.setDeepProperty(r,t,n)})},e.buildGhostObject=function(e){function t(){return new Proxy({},{get:function(n,r,o){return e.push(r),t()}})}return"undefined"!=typeof Proxy?t():null},e.evaluateLambdaExpression=function(t,n){var r=[],o=e.buildGhostObject(r);return o?n(o):e.evaluateLambdaErrors(r,n),r.join(".")},e.evaluateLambdaErrors=function(t,n,r){void 0===r&&(r=null);try{n(r)}catch(o){if(o instanceof TypeError){var i=o,u=null,a=/property\s+'(\w+)'/g.exec(i.message);if(a&&(u=a[1]),u||(a=/evaluating \'([\w]+\.?)+\'/g.exec(i.message),a&&(u=a[a.length-1])),u){t.push(u),r=r||{};var s=r;return t.forEach(function(e,n){s[e]=n<t.length-1?{}:null,s=s[e]}),void e.evaluateLambdaErrors(t,n,r)}}throw o}},e.evaluateLambdaOrString=function(t,n){var r;r="function"==typeof n?e.evaluateLambdaExpression(t,n):n;var o=r.split(".");return{children:o,property:r}},e.whenSingleProp=function(t,n,o){if(void 0===o&&(o=!1),t instanceof e){var i=t,u=i.propertyChanged.filter(function(e){return e.propertyName==n});return o?r.Observable.of(i.createPropertyChangedEventArgs(n,i.get(n))).concat(u):u}if(t.__viewBindingHelper){var a=t.__viewBindingHelper;return r.Observable.create(function(e){return a.observeProp(t,n,o,function(t){e.next(t)})})}throw new Error("Unable to bind to objects that do not inherit from ReactiveObject or provide __viewBindingHelper")},e.whenSingle=function(t,n,o){void 0===o&&(o=!1);var i=e.evaluateLambdaOrString(t,n),u=i.children,a=i.property;if(1===u.length)return e.whenSingleProp(t,a,o);var s=u[0],c=a.substring(s.length+1),p=0;return e.whenSingleProp(t,s,!0).map(function(t){var n=t.newPropertyValue;return p++,n?e.whenSingle(n,c,o||p>1):o?r.Observable.of(t):r.Observable.empty()})["switch"]()},e.prototype.whenSingle=function(t,n){return void 0===n&&(n=!1),e.whenSingle(this,t,n)},e.prototype.whenAny=function(){function e(t){t.forEach(function(t,n){var r=typeof t;"string"===r||"function"===r?i.push(t):Array.isArray(t)&&e(t)})}for(var t=this,n=[],o=0;o<arguments.length;o++)n[o-0]=arguments[o];var i=[],u=this.getMapFunction(n);e(u?n.slice(0,n.length-1):n);var a=i.map(function(e){return t.whenSingle(e,!0)}).filter(function(e){return null!=e});return u?r.Observable.combineLatest.apply(r.Observable,a.concat([u])):r.Observable.combineLatest.apply(r.Observable,a.concat([function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return 1==e.length?e[0]:e}]))},e.prototype.getMapFunction=function(e){var t=null,n=e[e.length-1];return e.length>1&&"function"==typeof n&&(t=n),t},e.prototype.whenAnyValue=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];var n=this.getMapFunction(e),r=n?e.slice(0,e.length-1):e,o=this.whenAny.bind(this);return o.apply(void 0,r.concat([function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];var r=e.map(function(e){return e.newPropertyValue});return n?n.apply(void 0,r):1==r.length?r[0]:r}]))},e.prototype.mergeChanges=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return r.Observable.merge.apply(r.Observable,e).distinctUntilChanged(function(e,t){return e===t},function(e){return e.value})},e.prototype.bind=function(t,n,r,o){var i=this,u=e.whenSingle(t,r).map(function(e){return{fromVm:!1,value:e.newPropertyValue}}),a=this.whenAny(n).map(function(e){return{fromVm:!0,value:e.newPropertyValue}}),s=this.mergeChanges(u,a).startWith({fromVm:!0,value:this.get(n)});return s.subscribe(function(o){o.fromVm?e.set(t,r,o.value):i.set(n,o.value)})},e.prototype.oneWayBind=function(t,n,r,o){var i=this.whenAny(n).map(function(e){return{fromVm:!0,value:e.newPropertyValue}}),u=this.mergeChanges(i).startWith({fromVm:!0,value:this.get(n)});return o&&(u=u.observeOn(o)),u.subscribe(function(n){n.fromVm&&e.set(t,r,n.value)})},e.bindObservable=function(t,n,r,o){var i=t.distinctUntilChanged();return o&&(i=i.observeOn(o)),i.subscribe(function(t){e.set(n,r,t)})},e.prototype.when=function(e){return"string"==typeof e?this.whenSingle(e,!0).map(function(e){return e.newPropertyValue})["switch"]():e},e.prototype.invokeCommandWhen=function(e,t){return i.invokeCommand(this.when(e),this,t)},e.prototype.toProperty=function(t,n,r){return e.bindObservable(t,this,n,r)},e.prototype.toJSON=function(){return e.clone(this.__data)},e.prototype.toString=function(){return JSON.stringify(this)},e.keys=function(t){return t instanceof e?Object.keys(t.__data):Object.keys(t)},e.clone=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},e}();t.ReactiveObject=u},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=n(5),i=function(e){function t(t,n,r){e.call(this,t),this._propertyName=n,this._newPropertyValue=r}return r(t,e),Object.defineProperty(t.prototype,"propertyName",{get:function(){return this._propertyName},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"newPropertyValue",{get:function(){return this._newPropertyValue},enumerable:!0,configurable:!0}),t}(o.EventArgs);t.PropertyChangedEventArgs=i},function(e,t){"use strict";var n=function(){function e(e){this._sender=e}return Object.defineProperty(e.prototype,"sender",{get:function(){return this._sender},enumerable:!0,configurable:!0}),e}();t.EventArgs=n},function(e,t,n){"use strict";function r(e,t,n){var r,i;"string"==typeof n?(r=t.whenSingle(n,!0).map(function(e){return e.newPropertyValue}),i=r.map(function(e){return e.canExecute})["switch"]()):(r=o.Observable.of(n),i=n.canExecute);var u=e.withLatestFrom(r,i,function(e,t,n){return{canExecute:n,command:t,observedValue:e}}).filter(function(e){return e.canExecute&&null!=e.command}).distinctUntilChanged().flatMap(function(e){return e.command.execute(e.observedValue)});return u}var o=n(2);t.invokeCommand=r},function(e,t,n){"use strict";var r=n(2),o=n(8),i=function(){function e(e,t,n){var o=this;if(this.task=e,this.canRun=t,this.scheduler=n,!e)throw new Error("The task parameter must be supplied");if(!t)throw new Error("The canRun parameter must be supplied");if(!n)throw new Error("The scheduler parameter must be supplied");this._executionInfo=new r.Subject,this._synchronizedExcecutionInfo=this._executionInfo,this._exceptions=new r.Subject,this._isExecuting=this._synchronizedExcecutionInfo.observeOn(n).map(function(e){return e.demarcation===u.Begin}).startWith(!1).distinctUntilChanged().publishReplay(1).refCount(),this._canExecute=this.canRun["catch"](function(e){return o._exceptions.next(e),r.Observable.of(!1)}).startWith(!1).combineLatest(this._isExecuting,function(e,t){return e&&!t}).distinctUntilChanged().publishReplay(1).refCount(),this._results=this._synchronizedExcecutionInfo.observeOn(n).filter(function(e){return e.demarcation===u.EndWithResult}).map(function(e){return e.result}),this._canExecuteSubscription=this._canExecute.subscribe()}return Object.defineProperty(e.prototype,"isExecuting",{get:function(){return this._isExecuting},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"canExecute",{get:function(){return this._canExecute},enumerable:!0,configurable:!0}),e.defaultScheduler=function(e){return e||o.RxApp.mainThreadScheduler},e.defaultCanRun=function(e){return e||r.Observable.of(!0)},e.create=function(t,n,o){return new e(function(e){var n=t(e);return"undefined"!=typeof n?r.Observable.of(n):r.Observable.of(null)},e.defaultCanRun(n),e.defaultScheduler(o))},e.createFromTask=function(t,n,o){return new e(function(e){return r.Observable.fromPromise(t(e))},e.defaultCanRun(n),e.defaultScheduler(o))},e.createFromObservable=function(t,n,r){return new e(t,e.defaultCanRun(n),e.defaultScheduler(r))},e.prototype.execute=function(e){var t=this;void 0===e&&(e=null);try{return r.Observable.defer(function(){return t._synchronizedExcecutionInfo.next(a.createBegin()),r.Observable.empty()}).concat(this.task(e))["do"](function(e){return t._synchronizedExcecutionInfo.next(a.createResult(e))},null,function(){return t._synchronizedExcecutionInfo.next(a.createEnded())})["catch"](function(e){return t._synchronizedExcecutionInfo.next(a.createFail()),t._exceptions.next(e),r.Observable["throw"](e)}).publishLast().refCount()}catch(n){return this._exceptions.next(n),r.Observable["throw"](n)}},e.prototype.invoke=function(e){var t=this;return void 0===e&&(e=null),this.canExecuteNow().filter(function(e){return e}).flatMap(function(n){return t.execute(e)})},e.prototype.canExecuteNow=function(){return this.canExecute.first()},Object.defineProperty(e.prototype,"results",{get:function(){return this._results},enumerable:!0,configurable:!0}),e}();t.ReactiveCommand=i;var u,a=function(){function e(e,t){this.demarcation=e,this.result=t}return e.createBegin=function(){return new e(u.Begin,null)},e.createResult=function(t){return new e(u.EndWithResult,t)},e.createFail=function(){return new e(u.EndWithException,null)},e.createEnded=function(){return new e(u.Ended,null)},e}();!function(e){e[e.Begin=0]="Begin",e[e.EndWithResult=1]="EndWithResult",e[e.EndWithException=2]="EndWithException",e[e.Ended=3]="Ended"}(u||(u={}))},function(e,t,n){"use strict";var r=n(9),o=n(9),i={asap:r.asap,queue:o.queue},u=function(){function e(){}return e}();t.RxApp=u,u.mainThreadScheduler=i.queue,u.immediateScheduler=i.asap},function(e,t){e.exports=Rx.Scheduler},,,,,,,function(e,t,n){"use strict";var r=n(2),o=function(){function e(){this._handlerChain=[]}return e.prototype.registerHandler=function(e){var t=this;if(!e)throw Error("Null or undefined handlers cannot be registered. Pass in a valid handler function to properly register it.");return this._handlerChain.unshift(e),new r.Subscription(function(){var n=t._handlerChain.indexOf(e);n>=0&&t._handlerChain.splice(n,1)})},e.prototype.handle=function(e){var t=this;return new Promise(function(n,r){var o=0;do{var i=t._handlerChain[o];try{var u=i(e);if("undefined"!=typeof u)return void(u instanceof Promise?u.then(function(e){n(e)},function(e){r(e)}):n(u))}catch(a){r(a)}}while(++o<t._handlerChain.length);r(new Error("No handler handled the interaction. Make sure that registerHandler is being called and that its returned subscription is not being disposed."))})},e}();t.ReactiveInteraction=o},,function(e,t,n){"use strict";function r(e,t){var n=e;return t&&(n=e.bind(t)),n}var o=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(3),u=n(2),a=n(19);Array.prototype.find||(Array.prototype.find=function(e){if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var t,n=Object(this),r=n.length>>>0,o=arguments[1],i=0;r>i;i++)if(t=n[i],e.call(o,t,i,n))return t}),Array.prototype.findIndex||(Array.prototype.findIndex=function(e){if(null===this)throw new TypeError("Array.prototype.findIndex called on null or undefined");if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var t,n=Object(this),r=n.length>>>0,o=arguments[1],i=0;r>i;i++)if(t=n[i],e.call(o,t,i,n))return i;return-1});var s=function(e){function t(t){e.call(this),this._changed=new u.Subject;var n=t?t.slice():[];Array.isArray(n)?this._array=n:this._array=n._array}return o(t,e),t.prototype.emitArrayChanges=function(e,t,n,r){if(t.length>0||r.length>0){var o=new a.CollectionChangedEventArgs(this);o.addedItems=t.slice(),o.addedItemsIndex=e,o.removedItems=r.slice(),o.removedItemsIndex=n,this._changed.next(o)}},Object.defineProperty(t.prototype,"changed",{get:function(){return this._changed.asObservable()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemsAdded",{get:function(){return this.changed.filter(function(e){return e.addedItems.length>0})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemsRemoved",{get:function(){return this.changed.filter(function(e){return e.removedItems.length>0})},enumerable:!0,configurable:!0}),t.prototype.getItem=function(e){return this._array[e]},t.prototype.setItem=function(e,t){this._array[e]=t},t.prototype.unshift=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n-0]=arguments[n];this.trackPropertyChanges("length",function(){(n=e._array).unshift.apply(n,t),e.emitArrayChanges(0,t,0,[]);var n})},t.prototype.shift=function(){var e=this;return this.trackPropertyChanges("length",function(){var t=e._array.shift();return"undefined"!=typeof t&&e.emitArrayChanges(0,[],0,[t]),t})},t.prototype.push=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n-0]=arguments[n];this.trackPropertyChanges("length",function(){(n=e._array).push.apply(n,t),e.emitArrayChanges(e._array.length-t.length,t,0,[]);var n})},t.prototype.pop=function(){var e=this;return this.trackPropertyChanges("length",function(){var t=e._array.pop();return"undefined"!=typeof t&&e.emitArrayChanges(0,[],e._array.length,[t]),t})},Object.defineProperty(t.prototype,"length",{get:function(){return this._array.length},enumerable:!0,configurable:!0}),t.prototype.slice=function(e,n){return new t(this._array.slice(e,n))},t.prototype.splice=function(e,n){for(var r=this,o=[],i=2;i<arguments.length;i++)o[i-2]=arguments[i];return this.trackPropertyChanges("length",function(){var i=(u=r._array).splice.apply(u,[e,n].concat(o));return r.emitArrayChanges(e,o,e,i),t.from(i);var u})},t.prototype.sort=function(e){var n=new t;return n._array=this._array.sort(e),n},t.prototype.map=function(e,n){var o=this,i=new t,u=r(e,n);return i._array=this._array.map(function(e,t,n){return u(e,t,o)}),i},t.prototype.filter=function(e,n){var o=this,i=new t,u=r(e,n);return i._array=this._array.filter(function(e,t,n){return u(e,t,o)}),i},t.prototype.indexOf=function(e,t){return this._array.indexOf(e,t)},t.prototype.lastIndexOf=function(e,t){return void 0===t&&(t=this.length-1),this._array.lastIndexOf(e,t)},t.prototype.forEach=function(e,t){var n=this,o=r(e,t);this._array.forEach(function(e,t,r){return o(e,t,n)})},t.prototype.reduce=function(e,t){var n=this;return"undefined"!=typeof t?this._array.reduce(function(t,r,o){return e(t,r,o,n)},t):this._array.reduce(function(t,r,o){return e(t,r,o,n)})},t.prototype.every=function(e,t){var n=this,o=r(e,t);return this._array.every(function(e,t,r){return o(e,t,n)})},t.prototype.some=function(e,t){var n=this,o=r(e,t);return this._array.some(function(e,t,r){return o(e,t,n)})},t.prototype.find=function(e,t){var n=this,o=r(e,t);return this._array.find(function(e,t,r){return o(e,t,n)})},t.prototype.findIndex=function(e,t){var n=this,o=r(e,t);return this._array.findIndex(function(e,t,r){return o(e,t,n)})},t.prototype.whenAnyItem=function(e){var t=this.derived.filter(function(e){return null!=e}).map(function(t){var n=t,r=n.whenAny(e);return r.publish().refCount()}).build();return t.toObservable().map(function(e){return u.Observable.merge.apply(u.Observable,e)})["switch"]().distinct()},t.prototype.whenAnyItemProperty=function(){var e=this.derived.filter(function(e){return null!=e}).map(function(e){var t=e,n=t.propertyChanged;return n.publish().refCount()}).build();return e.toObservable().map(function(e){return u.Observable.merge.apply(u.Observable,e)})["switch"]().distinct()},t.prototype.whenAnyItemValue=function(e){return this.whenAnyItem(e).map(function(e){return e.newPropertyValue})},t.prototype.whenAnyItemObservable=function(e){return this.whenAnyItemValue(e).filter(function(e){return null!=e}).mergeAll()},Object.defineProperty(t.prototype,"derived",{get:function(){return new l(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"computed",{get:function(){return new d(this)},enumerable:!0,configurable:!0}),t.from=function(e){return new t(e)},t.of=function(){for(var e=[],n=0;n<arguments.length;n++)e[n-0]=arguments[n];return t.from(e)},t.prototype.toArray=function(){return this._array.slice()},t.prototype.toObservable=function(){var e=this;return this.changed.map(function(t){return e.toArray()}).startWith(this.toArray()).publishReplay(1).refCount()},t.prototype.toJSON=function(){return this.map(function(e){return"undefined"==typeof e||null===e?null:"function"==typeof e.toJSON?e.toJSON():e}).toArray()},t.prototype.toString=function(){var e=this._array.map(function(e){var t=typeof e;return"undefined"===t?"undefined":null===e?"null":"string"===t?"'"+e+"'":e.toString()}).join(", ");return"["+e+"]"},t}(i.ReactiveObject);t.ReactiveArray=s;var c=function(e){function t(t,n,r,o){var i=this;e.call(this),this.parent=t,this.triggers=n,this.eventSteps=r,this.arraySteps=o,this._trackedItems=[];var s=new a.CollectionChangedEventArgs(this);s.addedItems=t.toArray(),s.addedItemsIndex=0,s.movedItems=[],s.removedItems=[],s.removedItemsIndex=0,this._apply(s),u.Observable.merge.apply(u.Observable,[t.changed].concat(n)).subscribe(function(e){i._apply(e)})}return o(t,e),t.prototype.splice=function(e,n){for(var r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];return t._throwNotSupported()},t.prototype.push=function(){for(var e=[],n=0;n<arguments.length;n++)e[n-0]=arguments[n];t._throwNotSupported()},t.prototype.pop=function(){return t._throwNotSupported()},t.prototype.shift=function(){return t._throwNotSupported()},t.prototype.unshift=function(){for(var e=[],n=0;n<arguments.length;n++)e[n-0]=arguments[n];return t._throwNotSupported()},t.prototype.setItem=function(e,n){t._throwNotSupported()},t._throwNotSupported=function(){throw new Error("Derived arrays do not support modification. If you want support for two-way derived arrays, file an issue at https://github.com/KallynGowdy/RxUI/issues.")},t.prototype._applyItem=function(e,t,n){for(var r={keep:!0,value:e},o=0;o<this.eventSteps.length&&(r=this.eventSteps[o].transform(r.value,t,n),r.keep!==!1);o++);return r},t.prototype._apply=function(n){for(var r=[],o=0;o<n.addedItems.length;o++){var i=n.addedItems[o],u=this._applyItem(i,o,n.addedItems);r.push(u)}var a=this._trackedItems;a.splice(n.removedItemsIndex,n.removedItems.length),a.splice.apply(a,[n.addedItemsIndex,0].concat(r));var s=a.filter(function(e){return e.keep}).map(function(e){return e.value}),c=t._transformArray(s,this.arraySteps);e.prototype.splice.apply(this,[0,this.length].concat(c))},t._transformArray=function(e,t){for(var n=e,r=0;r<t.length;r++)n=t[r].transform(n);return n},t}(s),p=function(){function e(e){this.predicate=e}return e.prototype.transform=function(e,t,n){return{value:e,keep:this.predicate(e,t,n)}},e}(),f=function(){function e(e){this.map=e}return e.prototype.transform=function(e,t,n){return{value:this.map(e,t,n),keep:!0}},e}(),h=function(){function e(e){this.compareFunction=e}return e.prototype.transform=function(e){return e.sort(this.compareFunction)},e}(),l=function(){function e(e){this.parent=e,this.eventSteps=[],this.arraySteps=[],this.triggers=[]}return e.prototype.addEvent=function(e){return this.eventSteps.push(e),this},e.prototype.addArray=function(e){return this.arraySteps.push(e),this},e.prototype.whenAnyItem=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n-0]=arguments[n];var r=u.Observable.merge.apply(u.Observable,t.map(function(t){return e.parent.whenAnyItem(t).map(function(t){return{sender:t.sender,propertyName:t.propertyName,newPropertyValue:t.newPropertyValue,index:e.parent.indexOf(t.sender)}})})),o=r.map(function(t){var n=new a.CollectionChangedEventArgs(e);return n.addedItems=[t.sender],n.addedItemsIndex=t.index,n.removedItems=[t.sender],n.removedItemsIndex=t.index,n});return this.triggers.push(o),this},e.prototype.whenAnyItemProperty=function(){var e=this,t=this.parent.whenAnyItemProperty().map(function(t){return{sender:t.sender,propertyName:t.propertyName,newPropertyValue:t.newPropertyValue,index:e.parent.indexOf(t.sender)}}),n=t.map(function(t){var n=new a.CollectionChangedEventArgs(e);return n.addedItems=[t.sender],n.addedItemsIndex=t.index,n.removedItems=[t.sender],n.removedItemsIndex=t.index,n});return this.triggers.push(n),this},e.prototype.filter=function(e){return this.addEvent(new p(e))},e.prototype.map=function(e){return this.addEvent(new f(e))},e.prototype.sort=function(e){return this.addArray(new h(e))},e.prototype.build=function(){return new c(this.parent,this.triggers,this.eventSteps,this.arraySteps)},e}();t.DerivedReactiveArrayBuilder=l;var d=function(){function e(e){this.parent=e}return e.prototype.reduce=function(e,t){var n=this;return this.parent.toObservable().map(function(r){return r.reduce(function(t,r,o,i){return e(t,r,o,n.parent)},t)})},e.prototype.every=function(e,t){var n=this,o=r(e,t);return this.parent.toObservable().map(function(e){return e.every(function(e,t,r){return o(e,t,n.parent)})})},e.prototype.some=function(e,t){var n=this,o=r(e,t);return this.parent.toObservable().map(function(e){return e.some(function(e,t,r){return o(e,t,n.parent)})})},e.prototype.find=function(e,t){var n=this,o=r(e,t);return this.parent.toObservable().map(function(e){return e.find(function(e,t,r){return o(e,t,n.parent)})})},e.prototype.findIndex=function(e,t){var n=this,o=r(e,t);return this.parent.toObservable().map(function(e){return e.findIndex(function(e,t,r){return o(e,t,n.parent)})})},e}();t.ComputedReactiveArrayBuilder=d},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=n(5),i=function(e){function t(t){e.call(this,t),this.addedItems=[],this.addedItemsIndex=-1,this.removedItems=[],this.removedItemsIndex=-1,this.movedItems=[]}return r(t,e),t}(o.EventArgs);t.CollectionChangedEventArgs=i},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=n(5),i=function(e){function t(t,n,r){e.call(this,t),this.beforeIndex=n,this.afterIndex=r}return r(t,e),Object.defineProperty(t.prototype,"item",{get:function(){return this.sender},enumerable:!0,configurable:!0}),t}(o.EventArgs);t.MovedItemEventArgs=i}])});