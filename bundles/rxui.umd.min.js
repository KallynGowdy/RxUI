!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("Rx"),require("null"),require("Rx.Scheduler")):"function"==typeof define&&define.amd?define(["Rx","null","Rx.Scheduler"],t):"object"==typeof exports?exports.RxUI=t(require("Rx"),require("null"),require("Rx.Scheduler")):e.RxUI=t(e.Rx,e["null"],e["Rx.Scheduler"])}(this,function(e,t,n){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}r(n(3)),r(n(4)),r(n(8)),r(n(9)),r(n(6))},,function(e,t){e.exports=Rx},function(e,t,n){"use strict";var r=n(2),o=n(4),i=n(6);n(7);var u=function(){function e(){this._propertyChanged=new r.Subject,this.__data={}}return Object.defineProperty(e.prototype,"propertyChanged",{get:function(){return this._propertyChanged},enumerable:!0,configurable:!0}),e.prototype.createPropertyChangedEventArgs=function(e,t){return new o.PropertyChangedEventArgs(this,e,t)},e.prototype.emitPropertyChanged=function(e,t){var n=null!=t?t:this.get(e);this._propertyChanged.next(this.createPropertyChangedEventArgs(e,n))},e.prototype.emitIfPropertyChanged=function(t,n){var r=e.get(this,t);r!==n&&this.emitPropertyChanged(t,r)},e.prototype.trackPropertyChanges=function(t,n){var r=e.get(this,t),o=n();return this.emitIfPropertyChanged(t,r),o},e.getSingleProperty=function(t,n){return"undefined"==typeof t[n]&&t instanceof e?e.getReactiveProperty(t,n):t[n]},e.getReactiveProperty=function(e,t){return e.__data[t]||null},e.getDeepProperty=function(t,n){var r=n.children[0],o=n.property.substring(r.length+1),i=e.get(t,r);return"undefined"!=typeof i?null!==i?e.get(i,o):null:void 0},e.get=function(t,n){var r=e.evaluateLambdaOrString(t,n);return 1===r.children.length?e.getSingleProperty(t,r.property):e.getDeepProperty(t,r)},e.prototype.get=function(t){var n=e.evaluateLambdaOrString(this,t);return 1===n.children.length?e.getReactiveProperty(this,n.property):e.getDeepProperty(this,n)},e.setSingleProperty=function(t,n,r){"undefined"==typeof t[n]&&t instanceof e?e.setReactiveProperty(t,n,r):t[n]=r},e.setReactiveProperty=function(e,t,n){var r=e,o=r.__data[t];n!==o&&(r.__data[t]=n,r.emitPropertyChanged(t,n))},e.setDeepProperty=function(t,n,r){var o=n.children[0],i=n.property.substring(o.length+1),u=e.get(t,o);if(null==u)throw new Error("Null Reference Exception. Cannot set a child property on a null or undefined property of this object.");e.set(u,i,r)},e.setCore=function(t,n,r,o,i){var u=e.evaluateLambdaOrString(t,n);1===u.children.length?o(u):i(u)},e.set=function(t,n,r){e.setCore(t,n,r,function(n){e.setSingleProperty(t,n.property,r)},function(n){e.setDeepProperty(t,n,r)})},e.prototype.set=function(t,n){var r=this;e.setCore(this,t,n,function(t){e.setReactiveProperty(r,t.property,n)},function(t){e.setDeepProperty(r,t,n)})},e.buildGhostObject=function(e){function t(){return new Proxy({},{get:function(n,r,o){return e.push(r),t()}})}return"undefined"!=typeof Proxy?t():null},e.evaluateLambdaExpression=function(t,n){var r=[],o=e.buildGhostObject(r);return o?n(o):e.evaluateLambdaErrors(r,n),r.join(".")},e.evaluateLambdaErrors=function(t,n,r){void 0===r&&(r=null);try{n(r)}catch(o){if(o instanceof TypeError){var i=o,u=null,a=/property\s+'(\w+)'/g.exec(i.message);if(a&&(u=a[1]),u||(a=/evaluating \'([\w]+\.?)+\'/g.exec(i.message),a&&(u=a[a.length-1])),u){t.push(u),r=r||{};var c=r;return t.forEach(function(e,n){c[e]=n<t.length-1?{}:null,c=c[e]}),void e.evaluateLambdaErrors(t,n,r)}}throw o}},e.evaluateLambdaOrString=function(t,n){var r;r="function"==typeof n?e.evaluateLambdaExpression(t,n):n;var o=r.split(".");return{children:o,property:r}},e.whenSingleProp=function(t,n,o){if(void 0===o&&(o=!1),t instanceof e){var i=t,u=i.propertyChanged.filter(function(e){return e.propertyName==n});return o?r.Observable.of(i.createPropertyChangedEventArgs(n,i.get(n))).concat(u):u}if(t.__viewBindingHelper){var a=t.__viewBindingHelper;return r.Observable.create(function(e){return a.observeProp(t,n,o,function(t){e.next(t)})})}throw new Error("Unable to bind to objects that do not inherit from ReactiveObject or provide __viewBindingHelper")},e.whenSingle=function(t,n,o){void 0===o&&(o=!1);var i=e.evaluateLambdaOrString(t,n),u=i.children,a=i.property;if(1===u.length)return e.whenSingleProp(t,a,o);var c=u[0],s=a.substring(c.length+1),p=0;return e.whenSingleProp(t,c,!0).map(function(t){var n=t.newPropertyValue;return p++,n?e.whenSingle(n,s,o||p>1):o?r.Observable.of(t):r.Observable.empty()})["switch"]()},e.prototype.whenSingle=function(t,n){return void 0===n&&(n=!1),e.whenSingle(this,t,n)},e.prototype.whenAny=function(){function e(t){t.forEach(function(t,n){var r=typeof t;"string"===r||"function"===r?i.push(t):Array.isArray(t)&&e(t)})}for(var t=this,n=[],o=0;o<arguments.length;o++)n[o-0]=arguments[o];var i=[],u=this.getMapFunction(n);e(u?n.slice(0,n.length-1):n);var a=i.map(function(e){return t.whenSingle(e,!0)}).filter(function(e){return null!=e});return u?r.Observable.combineLatest.apply(r.Observable,a.concat([u])):r.Observable.combineLatest.apply(r.Observable,a.concat([function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return 1==e.length?e[0]:e}]))},e.prototype.getMapFunction=function(e){var t=null,n=e[e.length-1];return e.length>1&&"function"==typeof n&&(t=n),t},e.prototype.whenAnyValue=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];var n=this.getMapFunction(e),r=n?e.slice(0,e.length-1):e,o=this.whenAny.bind(this);return o.apply(void 0,r.concat([function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];var r=e.map(function(e){return e.newPropertyValue});return n?n.apply(void 0,r):1==r.length?r[0]:r}]))},e.prototype.mergeChanges=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return r.Observable.merge.apply(r.Observable,e).distinctUntilChanged(function(e,t){return e===t},function(e){return e.value})},e.prototype.bind=function(t,n,r,o){var i=this,u=e.whenSingle(t,r).map(function(e){return{fromVm:!1,value:e.newPropertyValue}}),a=this.whenAny(n).map(function(e){return{fromVm:!0,value:e.newPropertyValue}}),c=this.mergeChanges(u,a).startWith({fromVm:!0,value:this.get(n)});return c.subscribe(function(o){o.fromVm?e.set(t,r,o.value):i.set(n,o.value)})},e.prototype.oneWayBind=function(t,n,r,o){var i=this.whenAny(n).map(function(e){return{fromVm:!0,value:e.newPropertyValue}}),u=this.mergeChanges(i).startWith({fromVm:!0,value:this.get(n)});return o&&(u=u.observeOn(o)),u.subscribe(function(n){n.fromVm&&e.set(t,r,n.value)})},e.bindObservable=function(t,n,r,o){var i=t.distinctUntilChanged();return o&&(i=i.observeOn(o)),i.subscribe(function(t){e.set(n,r,t)})},e.prototype.when=function(e){return"string"==typeof e?this.whenSingle(e,!0).map(function(e){return e.newPropertyValue})["switch"]():e},e.prototype.invokeCommandWhen=function(e,t){return i.invokeCommand(this.when(e),this,t)},e.prototype.toProperty=function(t,n,r){return e.bindObservable(t,this,n,r)},e}();t.ReactiveObject=u},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=n(5),i=function(e){function t(t,n,r){e.call(this,t),this._propertyName=n,this._newPropertyValue=r}return r(t,e),Object.defineProperty(t.prototype,"propertyName",{get:function(){return this._propertyName},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"newPropertyValue",{get:function(){return this._newPropertyValue},enumerable:!0,configurable:!0}),t}(o.EventArgs);t.PropertyChangedEventArgs=i},function(e,t){"use strict";var n=function(){function e(e){this._sender=e}return Object.defineProperty(e.prototype,"sender",{get:function(){return this._sender},enumerable:!0,configurable:!0}),e}();t.EventArgs=n},function(e,t,n){"use strict";function r(e,t,n){var r,i;"string"==typeof n?(r=t.whenSingle(n,!0).map(function(e){return e.newPropertyValue}),i=r.map(function(e){return e.canExecute})["switch"]()):(r=o.Observable.of(n),i=n.canExecute);var u=e.withLatestFrom(r,i,function(e,t,n){return{canExecute:n,command:t,observedValue:e}}).filter(function(e){return e.canExecute&&null!=e.command}).distinctUntilChanged().flatMap(function(e){return e.command.execute(e.observedValue)});return u}var o=n(2);t.invokeCommand=r},function(e,t){e.exports=null},function(e,t,n){"use strict";var r=n(2),o=n(9),i=function(){function e(e,t,n){var o=this;if(this.task=e,this.canRun=t,this.scheduler=n,!e)throw new Error("The task parameter must be supplied");if(!t)throw new Error("The canRun parameter must be supplied");if(!n)throw new Error("The scheduler parameter must be supplied");this._executionInfo=new r.Subject,this._synchronizedExcecutionInfo=this._executionInfo,this._exceptions=new r.Subject,this._isExecuting=this._synchronizedExcecutionInfo.observeOn(n).map(function(e){return e.demarcation===u.Begin}).startWith(!1).distinctUntilChanged().publishReplay(1).refCount(),this._canExecute=this.canRun["catch"](function(e){return o._exceptions.next(e),r.Observable.of(!1)}).startWith(!1).combineLatest(this._isExecuting,function(e,t){return e&&!t}).distinctUntilChanged().publishReplay(1).refCount(),this._results=this._synchronizedExcecutionInfo.observeOn(n).filter(function(e){return e.demarcation===u.EndWithResult}).map(function(e){return e.result}),this._canExecuteSubscription=this._canExecute.subscribe()}return Object.defineProperty(e.prototype,"isExecuting",{get:function(){return this._isExecuting},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"canExecute",{get:function(){return this._canExecute},enumerable:!0,configurable:!0}),e.defaultScheduler=function(e){return e||o.RxApp.mainThreadScheduler},e.defaultCanRun=function(e){return e||r.Observable.of(!0)},e.create=function(t,n,o){return new e(function(e){var n=t(e);return"undefined"!=typeof n?r.Observable.of(n):r.Observable.of(null)},e.defaultCanRun(n),e.defaultScheduler(o))},e.createFromTask=function(t,n,o){return new e(function(e){return r.Observable.fromPromise(t(e))},e.defaultCanRun(n),e.defaultScheduler(o))},e.createFromObservable=function(t,n,r){return new e(t,e.defaultCanRun(n),e.defaultScheduler(r))},e.prototype.execute=function(e){var t=this;void 0===e&&(e=null);try{return r.Observable.defer(function(){return t._synchronizedExcecutionInfo.next(a.createBegin()),r.Observable.empty()}).concat(this.task(e))["do"](function(e){return t._synchronizedExcecutionInfo.next(a.createResult(e))},null,function(){return t._synchronizedExcecutionInfo.next(a.createEnded())})["catch"](function(e){return t._synchronizedExcecutionInfo.next(a.createFail()),t._exceptions.next(e),r.Observable["throw"](e)}).publishLast().refCount()}catch(n){return this._exceptions.next(n),r.Observable["throw"](n)}},e.prototype.invoke=function(e){var t=this;return void 0===e&&(e=null),this.canExecuteNow().filter(function(e){return e}).flatMap(function(n){return t.execute(e)})},e.prototype.canExecuteNow=function(){return this.canExecute.first()},Object.defineProperty(e.prototype,"results",{get:function(){return this._results},enumerable:!0,configurable:!0}),e}();t.ReactiveCommand=i;var u,a=function(){function e(e,t){this.demarcation=e,this.result=t}return e.createBegin=function(){return new e(u.Begin,null)},e.createResult=function(t){return new e(u.EndWithResult,t)},e.createFail=function(){return new e(u.EndWithException,null)},e.createEnded=function(){return new e(u.Ended,null)},e}();!function(e){e[e.Begin=0]="Begin",e[e.EndWithResult=1]="EndWithResult",e[e.EndWithException=2]="EndWithException",e[e.Ended=3]="Ended"}(u||(u={}))},function(e,t,n){"use strict";var r=n(10),o=n(10),i={asap:r.asap,queue:o.queue},u=function(){function e(){}return e}();t.RxApp=u,u.mainThreadScheduler=i.queue,u.immediateScheduler=i.asap},function(e,t){e.exports=Rx.Scheduler}])});