!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("Rx"),require("null"),require("Rx.Scheduler")):"function"==typeof define&&define.amd?define(["Rx","null","Rx.Scheduler"],t):"object"==typeof exports?exports.RxUI=t(require("Rx"),require("null"),require("Rx.Scheduler")):e.RxUI=t(e.Rx,e["null"],e["Rx.Scheduler"])}(this,function(e,t,n){return function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}r(n(3)),r(n(4)),r(n(8)),r(n(9)),r(n(6))},,function(e,t){e.exports=Rx},function(e,t,n){"use strict";var r=n(2),i=n(4),o=n(6);n(7);var u=function(){function e(){this._propertyChanged=new r.Subject,this.__data={}}return Object.defineProperty(e.prototype,"propertyChanged",{get:function(){return this._propertyChanged},enumerable:!0,configurable:!0}),e.prototype.createPropertyChangedEventArgs=function(e,t){return new i.PropertyChangedEventArgs(this,e,t)},e.prototype.emitPropertyChanged=function(e,t){var n=null!=t?t:this.get(e);this._propertyChanged.next(this.createPropertyChangedEventArgs(e,n))},e.get=function(t,n){var r=e.evaluateLambdaOrString(t,n);if(1===r.children.length)return t instanceof e?t.__data[r.property]||null:t[r.property];var i=r.children[0],o=r.property.substring(i.length+1),u=e.get(t,i);if("undefined"!=typeof u){if(null!==u){if("function"==typeof u.get)return u.get(o);for(var c=u,a=1;a<r.children.length;a++)c=c[r.children[a]];return c}return null}},e.prototype.get=function(t){return e.get(this,t)},e.set=function(t,n,r){var i=e.evaluateLambdaOrString(t,n),o=e.get(t,n);if(o!==r)if(1===i.children.length)if(t instanceof e){var u=t;u.__data[i.property]=r,u.emitPropertyChanged(i.property,r)}else t[i.property]=r;else{var c=i.children[0],a=i.property.substring(c.length+1),s=e.get(t,c);if(null==s)throw new Error("Null Reference Exception. Cannot set a child property on a null or undefined property of this object.");if("function"==typeof s.set)s.set(a,r);else{for(var l=s,f=1;f<i.children.length-1;f++)l=l[i.children[f]];l[i.children[i.children.length-1]]=r}}},e.prototype.set=function(t,n){e.set(this,t,n)},e.buildGhostObject=function(e){function t(){return new Proxy({},{get:function(n,r,i){return e.push(r),t()}})}return"undefined"!=typeof Proxy?t():null},e.evaluateLambdaExpression=function(t,n){var r=[],i=e.buildGhostObject(r);return i?n(i):e.evaluateLambdaErrors(r,n),r.join(".")},e.evaluateLambdaErrors=function(t,n,r){void 0===r&&(r=null);try{n(r)}catch(i){if(i instanceof TypeError){var o=i,u=null,c=/property\s+'(\w+)'/g.exec(o.message);if(c&&(u=c[1]),u||(c=/evaluating \'([\w]+\.?)+\'/g.exec(o.message),c&&(u=c[c.length-1])),u){t.push(u),r=r||{};var a=r;return t.forEach(function(e,n){a[e]=n<t.length-1?{}:null,a=a[e]}),void e.evaluateLambdaErrors(t,n,r)}}throw i}},e.evaluateLambdaOrString=function(t,n){var r;r="function"==typeof n?e.evaluateLambdaExpression(t,n):n;var i=r.split(".");return{children:i,property:r}},e.whenSingleProp=function(t,n,i){if(void 0===i&&(i=!1),t instanceof e){var o=t,u=o.propertyChanged.filter(function(e){return e.propertyName==n});return i?r.Observable.of(o.createPropertyChangedEventArgs(n,o.get(n))).concat(u):u}if(t.__viewBindingHelper){var c=t.__viewBindingHelper;return r.Observable.create(function(e){return c.observeProp(t,n,i,function(t){e.next(t)})})}throw new Error("Unable to bind to objects that do not inherit from ReactiveObject or provide __viewBindingHelper")},e.whenSingle=function(t,n,i){void 0===i&&(i=!1);var o=e.evaluateLambdaOrString(t,n),u=o.children,c=o.property;if(1===u.length)return e.whenSingleProp(t,c,i);var a=u[0],s=c.substring(a.length+1),l=0;return e.whenSingleProp(t,a,!0).map(function(t){var n=t.newPropertyValue;return l++,n?e.whenSingle(n,s,i||l>1):i?r.Observable.of(t):r.Observable.empty()})["switch"]()},e.prototype.whenSingle=function(t,n){return void 0===n&&(n=!1),e.whenSingle(this,t,n)},e.prototype.whenAny=function(){function e(t){t.forEach(function(t,n){var r=typeof t;"string"===r||"function"===r?o.push(t):Array.isArray(t)&&e(t)})}for(var t=this,n=[],i=0;i<arguments.length;i++)n[i-0]=arguments[i];var o=[],u=this.getMapFunction(n);e(u?n.slice(0,n.length-1):n);var c=o.map(function(e){return t.whenSingle(e)}).filter(function(e){return null!=e});return u?r.Observable.combineLatest.apply(r.Observable,c.concat([u])):r.Observable.combineLatest.apply(r.Observable,c.concat([function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return 1==e.length?e[0]:e}]))},e.prototype.getMapFunction=function(e){var t=null,n=e[e.length-1];return e.length>1&&"function"==typeof n&&(t=n),t},e.prototype.whenAnyValue=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];var n=this.getMapFunction(e),r=n?e.slice(0,e.length-1):e,i=this.whenAny.bind(this);return i.apply(void 0,r.concat([function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];var r=e.map(function(e){return e.newPropertyValue});return n?n.apply(void 0,r):1==r.length?r[0]:r}]))},e.prototype.mergeChanges=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return r.Observable.merge.apply(r.Observable,e).distinctUntilChanged(function(e,t){return e===t},function(e){return e.value})},e.prototype.bind=function(t,n,r,i){var o=this,u=e.whenSingle(t,r).map(function(e){return{fromVm:!1,value:e.newPropertyValue}}),c=this.whenAny(n).map(function(e){return{fromVm:!0,value:e.newPropertyValue}}),a=this.mergeChanges(u,c).startWith({fromVm:!0,value:this.get(n)});return a.subscribe(function(i){i.fromVm?e.set(t,r,i.value):o.set(n,i.value)})},e.prototype.oneWayBind=function(t,n,r,i){var o=this.whenAny(n).map(function(e){return{fromVm:!0,value:e.newPropertyValue}}),u=this.mergeChanges(o).startWith({fromVm:!0,value:this.get(n)});return i&&(u=u.observeOn(i)),u.subscribe(function(n){n.fromVm&&e.set(t,r,n.value)})},e.bindObservable=function(t,n,r,i){var o=t.distinctUntilChanged();return i&&(o=o.observeOn(i)),o.subscribe(function(t){e.set(n,r,t)})},e.prototype.when=function(e){return"string"==typeof e?this.whenSingle(e,!0).map(function(e){return e.newPropertyValue})["switch"]():e},e.prototype.invokeCommandWhen=function(e,t){return o.invokeCommand(this.when(e),this,t)},e.prototype.toProperty=function(t,n,r){return e.bindObservable(t,this,n,r)},e}();t.ReactiveObject=u},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(5),o=function(e){function t(t,n,r){e.call(this,t),this._propertyName=n,this._newPropertyValue=r}return r(t,e),Object.defineProperty(t.prototype,"propertyName",{get:function(){return this._propertyName},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"newPropertyValue",{get:function(){return this._newPropertyValue},enumerable:!0,configurable:!0}),t}(i.EventArgs);t.PropertyChangedEventArgs=o},function(e,t){"use strict";var n=function(){function e(e){this._sender=e}return Object.defineProperty(e.prototype,"sender",{get:function(){return this._sender},enumerable:!0,configurable:!0}),e}();t.EventArgs=n},function(e,t,n){"use strict";function r(e,t,n){var r,o;"string"==typeof n?(r=t.whenSingle(n,!0).map(function(e){return e.newPropertyValue}),o=r.map(function(e){return e.canExecute})["switch"]()):(r=i.Observable.of(n),o=n.canExecute);var u=e.withLatestFrom(r,o,function(e,t,n){return{canExecute:n,command:t,observedValue:e}}).filter(function(e){return e.canExecute&&null!=e.command}).distinctUntilChanged().flatMap(function(e){return e.command.executeAsync(e.observedValue)});return u}var i=n(2);t.invokeCommand=r},function(e,t){e.exports=null},function(e,t,n){"use strict";var r=n(2),i=n(9),o=function(){function e(e,t,n){var i=this;if(this.task=e,this.canRun=t,this.scheduler=n,!e)throw new Error("The task parameter must be supplied");if(!t)throw new Error("The canRun parameter must be supplied");if(!n)throw new Error("The scheduler parameter must be supplied");this._executionInfo=new r.Subject,this._synchronizedExcecutionInfo=this._executionInfo,this._exceptions=new r.Subject,this._isExecuting=this._synchronizedExcecutionInfo.observeOn(n).map(function(e){return e.demarcation===u.Begin}).startWith(!1).distinctUntilChanged().publishReplay(1).refCount(),this._canExecute=this.canRun["catch"](function(e){return i._exceptions.next(e),r.Observable.of(!1)}).startWith(!1).combineLatest(this._isExecuting,function(e,t){return e&&!t}).distinctUntilChanged().publishReplay(1).refCount(),this._results=this._synchronizedExcecutionInfo.observeOn(n).filter(function(e){return e.demarcation===u.EndWithResult}).map(function(e){return e.result}),this._canExecuteSubscription=this._canExecute.subscribe()}return Object.defineProperty(e.prototype,"isExecuting",{get:function(){return this._isExecuting},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"canExecute",{get:function(){return this._canExecute},enumerable:!0,configurable:!0}),e.defaultScheduler=function(e){return e||i.RxApp.mainThreadScheduler},e.defaultCanRun=function(e){return e||r.Observable.of(!0)},e.create=function(t,n,i){return new e(function(e){var n=t(e);return"undefined"!=typeof n?r.Observable.of(n):r.Observable.of(null)},e.defaultCanRun(n),e.defaultScheduler(i))},e.createFromTask=function(t,n,i){return new e(function(e){return r.Observable.fromPromise(t(e))},e.defaultCanRun(n),e.defaultScheduler(i))},e.createFromObservable=function(t,n,r){return new e(t,e.defaultCanRun(n),e.defaultScheduler(r))},e.prototype.executeAsync=function(e){var t=this;void 0===e&&(e=null);try{return r.Observable.defer(function(){return t._synchronizedExcecutionInfo.next(c.createBegin()),r.Observable.empty()}).concat(this.task(e))["do"](function(e){return t._synchronizedExcecutionInfo.next(c.createResult(e))},null,function(){return t._synchronizedExcecutionInfo.next(c.createEnded())})["catch"](function(e){return t._synchronizedExcecutionInfo.next(c.createFail()),t._exceptions.next(e),r.Observable["throw"](e)}).publishLast().refCount()}catch(n){return this._exceptions.next(n),r.Observable["throw"](n)}},e.prototype.invokeAsync=function(e){var t=this;return void 0===e&&(e=null),this.canExecuteNow().filter(function(e){return e}).flatMap(function(n){return t.executeAsync(e)})},e.prototype.canExecuteNow=function(){return this.canExecute.first()},Object.defineProperty(e.prototype,"results",{get:function(){return this._results},enumerable:!0,configurable:!0}),e}();t.ReactiveCommand=o;var u,c=function(){function e(e,t){this.demarcation=e,this.result=t}return e.createBegin=function(){return new e(u.Begin,null)},e.createResult=function(t){return new e(u.EndWithResult,t)},e.createFail=function(){return new e(u.EndWithException,null)},e.createEnded=function(){return new e(u.Ended,null)},e}();!function(e){e[e.Begin=0]="Begin",e[e.EndWithResult=1]="EndWithResult",e[e.EndWithException=2]="EndWithException",e[e.Ended=3]="Ended"}(u||(u={}))},function(e,t,n){"use strict";var r=n(10),i=n(10),o={asap:r.asap,queue:i.queue},u=function(){function e(){}return e}();t.RxApp=u,u.mainThreadScheduler=o.queue,u.immediateScheduler=o.asap},function(e,t){e.exports=Rx.Scheduler}])});